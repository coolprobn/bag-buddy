<div class="bg-white rounded-lg shadow p-4 mb-6">
  <%= helpers.search_form_for q, url: search_url, method: :get, html: { class: form_class } do |f| %>
    <% if fields.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <% fields.each do |field| %>
          <div class="<%= field[:class] || 'flex-1' %>">
            <% if field[:options].present? %>
              <%= f.select field[:name], 
                    field[:options],
                    { prompt: field[:placeholder] || "Select..." },
                    { class: "w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none" } %>
            <% else %>
              <%= f.search_field field[:name], 
                    placeholder: field[:placeholder] || "Search...",
                    class: "w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none" %>
            <% end %>
          </div>
        <% end %>
      </div>
    <% end %>
    
    <div class="mt-4 flex gap-2">
      <%= f.submit "Search", class: helpers.primary_button_classes %>
      <%= render Buttons::SecondaryComponent.new(href: search_url) do %>
        Clear
      <% end %>
    </div>
  <% end %>
</div>
