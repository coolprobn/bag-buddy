<%= form_with model: user, url: profile_path, method: :patch, local: true, class: "space-y-6" do |f| %>
  <%= render "shared/error_messages", resource: user %>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <%= render Forms::LabelComponent.new(form: f, field: :first_name) %>
      <%= render Forms::InputFieldComponent.new(
            form: f,
            field: :first_name,
            type: :text,
            placeholder: "First name",
            autofocus: true
          ) %>
    </div>

    <div>
      <%= render Forms::LabelComponent.new(form: f, field: :last_name) %>
      <%= render Forms::InputFieldComponent.new(
            form: f,
            field: :last_name,
            type: :text,
            placeholder: "Last name"
          ) %>
    </div>

    <div>
      <%= render Forms::LabelComponent.new(form: f, field: :email) %>
      <%= render Forms::InputFieldComponent.new(
            form: f,
            field: :email,
            type: :email,
            placeholder: "email@example.com"
          ) %>
      <p class="mt-1 text-xs text-secondary-600">
        You'll need to confirm your email if you change it.
      </p>
    </div>

    <div>
      <%= render Forms::LabelComponent.new(form: f, field: :phone) %>
      <%= render Forms::PhoneFieldComponent.new(
            form: f,
            field: :phone,
            placeholder: "+977 98XXXXXXXX"
          ) %>
    </div>

    <div class="md:col-span-2">
      <%= render Forms::LabelComponent.new(form: f, field: :address) %>
      <%= render Forms::TextAreaFieldComponent.new(
            form: f,
            field: :address,
            rows: 3,
            placeholder: "Your address"
          ) %>
    </div>
  </div>

  <div class="flex gap-4 pt-4">
    <%= render Forms::SaveButtonComponent.new(
          form: f,
          label: "Update Profile",
          class: "flex-1"
        ) %>
    <%= render Buttons::SecondaryComponent.new(href: profile_path, class: "flex-1") do %>
      Cancel
    <% end %>
  </div>
<% end %>

